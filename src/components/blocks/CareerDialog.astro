---
import { Image } from "astro:assets";
import imageOffice1 from "../../assets/img/office-1.png";
import imageOffice2 from "../../assets/img/office-2.png";
import imageOffice3 from "../../assets/img/office-3.png";
import Dialog from "../ui/Dialog.astro";
import FormVacancy from "./FormVacancy.astro";

const { position, ...props } = Astro.props;
---

<Dialog {...props}>

  <slot />

  <div class="gallery">
      <Image
        src={imageOffice1}
        alt=""
        role="presentation"
        loading="lazy"
      />
      <Image
        src={imageOffice2}
        alt=""
        role="presentation"
        loading="lazy"
      />
      <Image
        src={imageOffice3}
        alt=""
        role="presentation"
        loading="lazy"
      />
  </div>
  <FormVacancy position={position} aria-label={`Форма отправки резюме на должность ${position}`}/>
</Dialog>

<style>
  @import "/src/assets/css/_custom-media.css";

  .gallery {
    display: flex;
    gap: calc(var(--1px) * 24);

    img {
      width: 30%;
      border-radius: var(--16px);
    }
  }

  @media screen and (--screen-phone) {
    .gallery {
      flex-wrap: nowrap;
      -webkit-overflow-scrolling: touch;
      overflow-x: auto;
      overflow-y: hidden;
      scroll-snap-type: x mandatory;
      scroll-padding-left: var(--gutter);
      scroll-padding-right: var(--gutter);
      padding: 0 var(--gutter) var(--30px);
      margin: 0 auto;
      max-width: 100vw;
      justify-content: stretch;

      img {
        width: 80%;
        border-radius: var(--16px);
        scroll-snap-align: start;
      }
    }
    
  }
</style>
